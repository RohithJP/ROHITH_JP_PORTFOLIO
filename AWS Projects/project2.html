<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Project 02 — Automated Web Hosting System</title>

  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css?v=30"/>
</head>

<body>

<header class="site-header">
  <div class="container header-inner">
    <a href="../index.html" class="brand-link">
      <span class="brand-logo">ROHITH JP</span>
    </a>

    <nav class="nav">
      <a href="../index.html">Home</a>
      <a href="project1.html">Projects</a>
      <a href="../experience/experience.html">Experience</a>
      <a href="../index.html#contact">Contact</a>
    </nav>
  </div>
</header>

<main>

<section class="hero-small">
  <div class="container">
    <h1 class="page-title" style="font-size:42px;font-weight:700;">
      02 — Automated Web Hosting System
    </h1>
    <p class="lead">Static hosting automation using EC2, S3, IAM, Nginx, and Bash.</p>
  </div>
</section>

<section class="section-light">
  <div class="container">

    <h2 class="section-title">Project Overview</h2>
    <p class="lead">
      This project automates the hosting of a static website using AWS EC2, S3, IAM roles, and a fully automated
      User Data provisioning script.
    </p>

    <h3 class="sub-title">Goal</h3>
    <p>Automate the provisioning and deployment of a static website end-to-end.</p>

    <h3 class="sub-title">Technologies Used</h3>
    <ul class="exp-list">
      <li>EC2 — Nginx Web Hosting</li>
      <li>S3 — Static File Storage</li>
      <li>IAM Roles — Secure Access</li>
      <li>AWS CLI v2 — Deployment Automation</li>
      <li>Nginx — Web Server</li>
      <li>Bash User Data — Provisioning</li>
    </ul>

    <h3 class="sub-title">Key Deliverable</h3>
    <p>A fully automated EC2 instance that installs Nginx, syncs files from S3, configures permissions & firewall, logs all steps, and instantly serves the website.</p>

    <!-- WORKFLOW -->
    <h2 class="section-title">Workflow</h2>

    <div style="
      background:#0a0f14;
      border:1px solid #2ec4ff30;
      padding:20px;
      border-radius:16px;
      box-shadow:0 0 18px #0e3a53 inset, 0 0 12px #2ec4ff50;
      overflow-x:auto;
    ">
      <svg width="900" height="330" viewBox="0 0 900 330">

        <rect x="50" y="20" width="300" height="60" rx="12"
          fill="#05131a" stroke="#2ec4ff" stroke-width="2"/>
        <text x="200" y="57" text-anchor="middle" fill="#2ec4ff"
          font-family="IBM Plex Mono" font-size="14">Developer (Mac Terminal)</text>

        <line x1="200" y1="80" x2="200" y2="115" stroke="#2ec4ff" stroke-width="2"/>
        <polygon points="200,120 195,110 205,110" fill="#2ec4ff"/>

        <rect x="50" y="130" width="300" height="60" rx="12"
          fill="#05131a" stroke="#7e3cff" stroke-width="2"/>
        <text x="200" y="165" text-anchor="middle" fill="#7e3cff"
          font-family="IBM Plex Mono" font-size="14">S3 Bucket (Static Files)</text>

        <line x1="200" y1="190" x2="200" y2="225" stroke="#7e3cff" stroke-width="2"/>
        <polygon points="200,230 195,220 205,220" fill="#7e3cff"/>

        <rect x="50" y="240" width="300" height="60" rx="12"
          fill="#05131a" stroke="#ff9900" stroke-width="2"/>
        <text x="200" y="275" text-anchor="middle" fill="#ff9900"
          font-family="IBM Plex Mono" font-size="14">EC2 + User Data Automation</text>

        <line x1="350" y1="270" x2="430" y2="270" stroke="#2ec4ff" stroke-width="2"/>
        <polygon points="435,270 425,265 425,275" fill="#2ec4ff"/>

        <rect x="450" y="240" width="360" height="60" rx="12"
          fill="#05131a" stroke="#2ec4ff" stroke-width="2"/>
        <text x="630" y="275" text-anchor="middle" fill="#2ec4ff"
          font-family="IBM Plex Mono" font-size="14">Nginx Serves Website</text>

      </svg>
    </div>

    <h2 class="section-title">What I Learned</h2>
    <ul class="exp-list">
      <li>IAM roles over static credentials</li>
      <li>User Data automation</li>
      <li>Fixing Nginx 403 Forbidden errors</li>
      <li>Installing AWS CLI v2</li>
      <li>Understanding S3 → EC2 automation</li>
    </ul>

    <h2 class="section-title">Troubleshooting</h2>
    <ul class="exp-list">
      <li>403 Forbidden: Fixed permissions</li>
      <li>Default Nginx page: Removed default index</li>
      <li>AWS CLI not found: Installed CLI bundle</li>
      <li>User Data not running: Relaunched instance</li>
    </ul>

    <h2 class="section-title">Final User Data Script</h2>

    <div style="
      background:#0a0f14;
      border:1px solid #7e3cff40;
      border-radius:14px;
      padding:20px;
      box-shadow:0 0 18px #2d1b47 inset, 0 0 14px #7e3cff50;
    ">
      <pre class="code-block" style="white-space:pre-wrap;">#!/bin/bash
set -e
LOG="/var/log/site_setup.log"
echo "=== Site setup started at $(date) ===" >> $LOG

apt-get update -y
apt-get install -y nginx unzip curl ufw

curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" \
  -o "/tmp/awscliv2.zip"
unzip /tmp/awscliv2.zip -d /tmp
/tmp/aws/install

systemctl enable nginx
systemctl start nginx

rm -rf /var/www/html/*
aws s3 sync s3://rohit-static-site-2025 /var/www/html

chown -R www-data:www-data /var/www/html
chmod -R 755 /var/www/html

ufw allow OpenSSH
ufw allow 'Nginx Full'
ufw --force enable

echo "=== Site setup finished at $(date) ===" >> $LOG
</pre>
    </div>

    <!-- NAVIGATION -->
  <div class="project-nav" style="margin-top:28px; display:flex; gap:16px;">
  <a class="btn btn-outline" href="project1.html">← Previous</a>
  <a class="btn btn-primary" href="project3.html">Next →</a>
</div>


  </div>
</section>
</main>

<footer class="site-footer">
  <div class="container">
    <small>© 2025 Rohith Jothilakshmi Periyasamy — AWS Cloud Engineer</small>
  </div>
</footer>

</body>
</html>
