<!-- ================================
     PROJECT 6 â€” WORKFLOW DIAGRAM
=================================== -->
<section class="section-dark">
  <h2 class="section-title">Architecture Workflow</h2>

  <div class="arch-diagram">
    <svg class="workflow-svg" viewBox="0 0 1350 160" xmlns="http://www.w3.org/2000/svg">

      <!-- Developer -->
      <rect x="10" y="45" width="200" height="60" rx="12"
            fill="#05131a" stroke="#2ec4ff" stroke-width="1.8"/>
      <text x="110" y="78" text-anchor="middle" fill="#2ec4ff" font-size="13">
        Developer Updates App
      </text>

      <!-- Git Pull / Deployment -->
      <rect x="240" y="45" width="240" height="60" rx="12"
            fill="#05131a" stroke="#7e3cff" stroke-width="1.8"/>
      <text x="360" y="78" text-anchor="middle" fill="#7e3cff" font-size="13">
        EC2 Deployment (Git Pull)
      </text>

      <!-- Web Stack -->
      <rect x="510" y="45" width="240" height="60" rx="12"
            fill="#05131a" stroke="#2ec4ff" stroke-width="1.8"/>
      <text x="630" y="78" text-anchor="middle" fill="#2ec4ff" font-size="13">
        NGINX + PHP-FPM Stack
      </text>

      <!-- Database -->
      <rect x="780" y="45" width="240" height="60" rx="12"
            fill="#05131a" stroke="#ff9900" stroke-width="1.8"/>
      <text x="900" y="78" text-anchor="middle" fill="#ff9900" font-size="13">
        MySQL Database (RDS/EC2)
      </text>

      <!-- Users -->
      <rect x="1050" y="45" width="240" height="60" rx="12"
            fill="#05131a" stroke="#2ec4ff" stroke-width="1.8"/>
      <text x="1170" y="78" text-anchor="middle" fill="#2ec4ff" font-size="13">
        Public Users / Browser
      </text>

      <!-- Arrows -->
      <line x1="210" y1="75" x2="240" y2="75" stroke="#2ec4ff" stroke-width="2"/>
      <line x1="480" y1="75" x2="510" y2="75" stroke="#7e3cff" stroke-width="2"/>
      <line x1="750" y1="75" x2="780" y2="75" stroke="#2ec4ff" stroke-width="2"/>
      <line x1="1020" y1="75" x2="1050" y2="75" stroke="#ff9900" stroke-width="2"/>

    </svg>
  </div>

  <h2 class="section-title">Detailed Explanation</h2>

  <p class="lead">
    This project is an optimized version of the PHP + MySQL deployment, focusing on fixing socket issues,
    improving DB connectivity, and applying production-grade tuning.
  </p>

  <ul class="exp-list">
    <li>
      <strong>Developer Workflow:</strong> Code updates pushed to GitHub. EC2 pulls changes directly.
    </li>

    <li>
      <strong>EC2 Deployment:</strong> Old files removed, permissions adjusted, PHP-FPM reloaded automatically.
    </li>

    <li>
      <strong>NGINX + PHP-FPM:</strong> Improved upstream configuration, fixed socket mismatches, and optimized worker processes.
    </li>

    <li>
      <strong>Database Layer:</strong> Could be MySQL on EC2 or RDS. Host-based user rules corrected,
      security tightened, and performance settings improved.
    </li>

    <li>
      <strong>End Users:</strong> Receive a stable, fast PHP site with no 502/500 errors.
    </li>

    <li>
      <strong>Key Improvements Over Project 5:</strong>
      <ul>
        <li>Fixed PHP-FPM socket mismatch</li>
        <li>Corrected file permissions (www-data)</li>
        <li>Improved DB host rules ('user'@'%')</li>
        <li>Better error logging and debugging</li>
      </ul>
    </li>
  </ul>
</section>
